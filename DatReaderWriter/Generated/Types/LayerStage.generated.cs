// <auto-generated/>
// This file was automatically generated by the DatReaderWriter source generator.
// Do not edit this file directly. Any changes will be lost.

using System;
using System.Numerics;
using System.IO;
using System.Linq;
using System.Collections.Generic;
using DatReaderWriter.Enums;
using DatReaderWriter.Lib;
using DatReaderWriter.Lib.Attributes;
using DatReaderWriter.Lib.IO;

namespace DatReaderWriter.Types {
    public partial class LayerStage : IDatObjType {
        /// <summary>
        /// Sampler / texture slot name (e.g. &#39;Diffuse&#39;, &#39;Normal&#39;, &#39;Detail&#39;)
        /// </summary>
        public PStringBase<byte> SamplerName = new();

        /// <summary>
        /// Texture DataId
        /// </summary>
        public uint Texture;

        /// <summary>
        /// Special texture type/flag (0 = normal, other values = cube, env, shadow, etc.)
        /// </summary>
        public uint SpecialTexture;

        /// <summary>
        /// U-axis addressing mode (wrap, clamp, mirror, etc.)
        /// </summary>
        public byte AddressModeU;

        /// <summary>
        /// V-axis addressing mode
        /// </summary>
        public byte AddressModeV;

        /// <summary>
        /// Minification filter (point, linear, etc.)
        /// </summary>
        public byte MinFilterMode;

        /// <summary>
        /// Magnification filter
        /// </summary>
        public byte MagFilterMode;

        /// <summary>
        /// Mipmap filter (none, point, linear)
        /// </summary>
        public byte MipFilterMode;

        /// <summary>
        /// Fixed-function color operation (D3DTOP_*)
        /// </summary>
        public byte FFColorOp;

        /// <summary>
        /// First color argument (D3DTA_*)
        /// </summary>
        public uint FFColorArg1;

        /// <summary>
        /// Second color argument
        /// </summary>
        public uint FFColorArg2;

        /// <summary>
        /// Fixed-function alpha operation
        /// </summary>
        public byte FFAlphaOp;

        /// <summary>
        /// First alpha argument
        /// </summary>
        public uint FFAlphaArg1;

        /// <summary>
        /// Second alpha argument
        /// </summary>
        public uint FFAlphaArg2;

        /// <summary>
        /// Texture coordinate set index (0–7 typically) + possible flags
        /// </summary>
        public uint FFTexCoordIndex;

        /// <summary>
        /// Whether to use projective texturing (serialized via Serializer::SerializeObject)
        /// </summary>
        public uint FFUseProjection;

        /// <inheritdoc />
        public bool Unpack(DatBinReader reader) {
            SamplerName = reader.ReadItem<PStringBase<byte>>();
            Texture = reader.ReadUInt32();
            SpecialTexture = reader.ReadUInt32();
            AddressModeU = reader.ReadByte();
            AddressModeV = reader.ReadByte();
            MinFilterMode = reader.ReadByte();
            MagFilterMode = reader.ReadByte();
            MipFilterMode = reader.ReadByte();
            FFColorOp = reader.ReadByte();
            FFColorArg1 = reader.ReadUInt32();
            FFColorArg2 = reader.ReadUInt32();
            FFAlphaOp = reader.ReadByte();
            FFAlphaArg1 = reader.ReadUInt32();
            FFAlphaArg2 = reader.ReadUInt32();
            FFTexCoordIndex = reader.ReadUInt32();
            FFUseProjection = reader.ReadUInt32();
            return true;
        }

        /// <inheritdoc />
        public bool Pack(DatBinWriter writer) {
            writer.WriteItem<PStringBase<byte>>(SamplerName);
            writer.WriteUInt32(Texture);
            writer.WriteUInt32(SpecialTexture);
            writer.WriteByte(AddressModeU, 1);
            writer.WriteByte(AddressModeV, 1);
            writer.WriteByte(MinFilterMode, 1);
            writer.WriteByte(MagFilterMode, 1);
            writer.WriteByte(MipFilterMode, 1);
            writer.WriteByte(FFColorOp, 1);
            writer.WriteUInt32(FFColorArg1);
            writer.WriteUInt32(FFColorArg2);
            writer.WriteByte(FFAlphaOp, 1);
            writer.WriteUInt32(FFAlphaArg1);
            writer.WriteUInt32(FFAlphaArg2);
            writer.WriteUInt32(FFTexCoordIndex);
            writer.WriteUInt32(FFUseProjection);
            return true;
        }

    }
}
